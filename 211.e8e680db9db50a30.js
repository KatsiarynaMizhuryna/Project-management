"use strict";(self.webpackChunkproject_management_system=self.webpackChunkproject_management_system||[]).push([[211],{4211:(D,f,s)=>{s.r(f),s.d(f,{AccountModule:()=>G});var i=s(6223),a=s(6814),l=s(9987),e=s(5879),p=s(7783);let x=(()=>{class t{constructor(n,o){this.router=n,this.accountService=o,this.accountService.userValue&&this.router.navigate(["/"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.F0),e.Y36(p.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"container","col-md-6","offset-md-3","mt-5"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[l.lC]}),t})();var h=s(1374),v=s(575),d=s(9515);function Z(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID LOGIN")))}function A(t,r){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,Z,3,3,"div",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.f.login.errors?null:n.f.login.errors.required)}}function _(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID PASSWORD")))}function w(t,r){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,_,3,3,"div",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.required)}}function C(t,r){1&t&&e._UZ(0,"span",15)}const b=function(t){return{"border-red-500":t}};function S(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID NAME")))}function q(t,r){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,S,3,3,"div",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.f.name.errors?null:n.f.name.errors.required)}}function T(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID LOGIN")))}function I(t,r){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,T,3,3,"div",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.f.login.errors?null:n.f.login.errors.required)}}function y(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID PASSWORD")))}function N(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VALID PASSWORD LENGTH")))}function J(t,r){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,y,3,3,"div",15),e.YNc(2,N,3,3,"div",15),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.minlength)}}function U(t,r){1&t&&e._UZ(0,"span",16)}const c=function(t){return{"border-red-500":t}},O=[{path:"",component:x,children:[{path:"login",component:(()=>{class t{constructor(n,o,u,g,m){this.formBuilder=n,this.route=o,this.router=u,this.accountService=g,this.alertService=m,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=new i.cw({login:new i.NI("",[i.kI.required]),password:new i.NI("",[i.kI.required])})}get f(){return this.form.controls}onSubmit(){if(this.submitted=!0,this.alertService.clear(),this.form.invalid)return;this.loading=!0;const n=this.form.get("login")?.value,o=this.form.get("password")?.value;this.accountService.login(n,o).pipe((0,h.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:u=>{this.alertService.error(u,{autoClose:!0}),this.loading=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(l.gz),e.Y36(l.F0),e.Y36(p.B),e.Y36(v.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:25,vars:23,consts:[[1,"max-w-sm","mx-auto","bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"bg-green-500","text-white","py-2","px-4"],[1,"px-4","py-6"],[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"block","text-gray-700","font-bold","mb-2"],["type","text","formControlName","login",1,"border","rounded","w-full","py-2","px-3","leading-tight","focus:outline-none","focus:border-green-500",3,"ngClass"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","password","formControlName","password",1,"border","rounded","w-full","py-2","px-3","leading-tight","focus:outline-none","focus:border-green-500",3,"ngClass"],[1,"flex","items-center","justify-between"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],["class","animate-spin inline-block h-4 w-4 mr-2 border-t-2 border-b-2 border-white",4,"ngIf"],["routerLink","../signup",1,"inline-block","align-baseline","font-bold","text-sm","text-green-500","hover:text-green-800"],[1,"text-red-500","text-xs","mt-1"],[4,"ngIf"],[1,"animate-spin","inline-block","h-4","w-4","mr-2","border-t-2","border-b-2","border-white"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,A,2,1,"div",7),e.qZA(),e.TgZ(11,"div",4)(12,"label",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",8),e.YNc(16,w,2,1,"div",7),e.qZA(),e.TgZ(17,"div",9)(18,"button",10),e.YNc(19,C,1,0,"span",11),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"a",12),e._uU(23),e.ALo(24,"translate"),e.qZA()()()()()),2&n&&(e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(3),e.Oqu(e.lcZ(8,11,"LOGIN")),e.xp6(2),e.Q6J("ngClass",e.VKq(19,b,o.submitted&&o.f.login.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.login.errors),e.xp6(3),e.Oqu(e.lcZ(14,13,"PASSWORD")),e.xp6(2),e.Q6J("ngClass",e.VKq(21,b,o.submitted&&o.f.password.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.password.errors),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.hij(" ",e.lcZ(21,15,"LOG IN")," "),e.xp6(3),e.Oqu(e.lcZ(24,17,"SIGN UP")))},dependencies:[a.mk,a.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,l.rH,d.X$]}),t})()},{path:"signup",component:(()=>{class t{constructor(n,o,u,g,m,k){this.formBuilder=n,this.route=o,this.router=u,this.accountService=g,this.alertService=m,this.translate=k,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({name:["",i.kI.required],login:["",i.kI.required],password:["",[i.kI.required,i.kI.minLength(6)]]}),this.translate.onLangChange.subscribe()}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,h.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0,autoClose:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:n=>{this.alertService.error(n,{autoClose:!0}),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(l.gz),e.Y36(l.F0),e.Y36(p.B),e.Y36(v.c),e.Y36(d.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:32,vars:33,consts:[[1,"max-w-sm","mx-auto","bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"bg-green-500","text-white","py-2","px-4"],[1,"px-4","py-6"],[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"block","text-gray-700","font-bold","mb-2"],["type","text","formControlName","name",1,"border","rounded","w-full","py-2","px-3","leading-tight","focus:outline-none","focus:border-green-500",3,"ngClass"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","text","formControlName","login",1,"border","rounded","w-full","py-2","px-3","leading-tight","focus:outline-none","focus:border-green-500",3,"ngClass"],["type","password","formControlName","password",1,"border","rounded","w-full","py-2","px-3","leading-tight","focus:outline-none","focus:border-green-500",3,"ngClass"],[1,"flex","items-center","justify-between"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"],["class","animate-spin inline-block h-4 w-4 mr-2 border-t-2 border-b-2 border-white",4,"ngIf"],["routerLink","/welcome-page",1,"inline-block","align-baseline","font-bold","text-sm","text-green-500","hover:text-green-800"],[1,"text-red-500","text-xs","mt-1"],[4,"ngIf"],[1,"animate-spin","inline-block","h-4","w-4","mr-2","border-t-2","border-b-2","border-white"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,q,2,1,"div",7),e.qZA(),e.TgZ(12,"div",4)(13,"label",5),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",8),e.YNc(17,I,2,1,"div",7),e.qZA(),e.TgZ(18,"div",4)(19,"label",5),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",9),e.YNc(23,J,3,2,"div",7),e.qZA(),e.TgZ(24,"div",10)(25,"button",11),e.YNc(26,U,1,0,"span",12),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"a",13),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,15,"SIGN UP")),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(3),e.Oqu(e.lcZ(9,17,"NAME")),e.xp6(2),e.Q6J("ngClass",e.VKq(27,c,o.submitted&&o.f.name.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.name.errors),e.xp6(3),e.Oqu(e.lcZ(15,19,"LOGIN")),e.xp6(2),e.Q6J("ngClass",e.VKq(29,c,o.submitted&&o.f.login.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.login.errors),e.xp6(3),e.Oqu(e.lcZ(21,21,"PASSWORD")),e.xp6(2),e.Q6J("ngClass",e.VKq(31,c,o.submitted&&o.f.password.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.password.errors),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.hij(" ",e.lcZ(28,23,"SIGN UP")," "),e.xp6(3),e.Oqu(e.lcZ(31,25,"CANCEL")))},dependencies:[a.mk,a.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,l.rH,d.X$]}),t})()}]}];let Y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(O),l.Bz]}),t})();var Q=s(3339);let G=(()=>{class t{constructor(n){this.translate=n,this.translate.setDefaultLang("en")}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.sK))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,i.UX,Y,Q.q]}),t})()}}]);